<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8"> 
</head>

<body>
	<div id="container"></div>

	<script>
		'use strict';

		let data = {
			"Рыбы": {
				"Форель": {},
				"Щука": {}
			},

			"Деревья": {
				"Хвойные": {
					"Лиственница": {},
					"Ель": {}
				},
				"Цветковые": {
					"Берёза": {},
					"Тополь": {}
				}
			}
		};

		let container = document.querySelector('#container');

		createTree(container, data);
		
		// I
		function createTree(container, data) {
			container.appendChild(createDomElements(data));	
		}

		function createDomElements(data) {
	 		if (isObjectEmpty(data)) return;
	  
			let ul = document.createElement('ul');	

			for(let key in data) {
				let li = document.createElement('li');
				li.innerHTML = key;
				
				let children = createDomElements(data[key]);

				children ? li.appendChild(children) : '';

				ul.appendChild(li);
			}
			
			return ul;
		}
		
		function isObjectEmpty(obj) {
			for(let key in obj) {
				return false;
			}
			return true;
		}

		// II
		// function createTree(container, data) {
		// 	container.innerHTML = createTreeText(data);
		// }

		// function createTreeText(data) {
		// 	let li = '';

		// 	for (let key in data) {
		// 		li += `<li> ${key} ${createTreeText(data[key])} </li>`;
		// 	}

		// 	if (li) {
		// 		let ul = `<ul> ${li} </ul>`;
		// 	}

		// 	return ul || '';
		// }
	</script>       
</body>
</html>
